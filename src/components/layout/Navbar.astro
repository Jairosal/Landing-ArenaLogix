---
const links = [
  { label: "QUIENES SOMOS", href: "#about" },
  { label: "NUESTROS SERVICIOS", href: "#services" },
  { label: "NUESTRA COMUNIDAD", href: "#community" },
  { label: "COTIZAR", href: "#cotizar" },
];
---

<nav class="absolute top-4 md:top-8 left-0 w-full z-40 text-white">
  <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
    <!-- Logo -->
    <div
      class="flex-none text-3xl md:text-4xl lg:text-5xl font-heading tracking-wide mr-4"
    >
      ArenaLogix
    </div>

    <!-- Links desktop -->
    <ul
      class="hidden lg:flex items-center gap-1 text-sm ml-auto tracking-tight"
    >
      {
        links.map((link, index) => (
          <>
            <li>
              <a
                href={link.href}
                class="hover:opacity-70 transition px-2 font-body font-semibold"
              >
                {link.label}
              </a>
            </li>
            {index < links.length - 1 && (
              <span class="text-white/50 mx-1">|</span>
            )}
          </>
        ))
      }
    </ul>

    <!-- Botón desktop -->
    <div class="hidden lg:flex ml-8">
      <a
        href="#cotizar"
        class="menu-link bg-white/10 px-5 py-2 rounded-full text-sm font-semibold backdrop-blur hover:bg-white/20 transition"
      >
        COMPRAR
      </a>
    </div>

    <!-- Botón hamburguesa -->
    <button
      id="menu-btn"
      class="lg:hidden relative w-8 h-8 flex flex-col justify-center items-center gap-1"
      aria-label="Abrir menú"
    >
      <span class="line top"></span>
      <span class="line middle"></span>
      <span class="line bottom"></span>
    </button>
  </div>

  <!-- Menú mobile -->
  <div
    id="mobile-menu"
    class="fixed inset-0 bg-black/95 backdrop-blur-md translate-y-full opacity-0 transition-all duration-300 lg:hidden"
  >
    <button
      id="close-menu"
      aria-label="Cerrar menú"
      class="absolute top-6 right-6 text-3xl hover:opacity-80 transition"
    >
      ✕
    </button>

    <ul
      class="h-full flex flex-col items-center justify-center gap-8 text-lg font-body"
    >
      {
        links.map((link) => (
          <li>
            <a href={link.href} class="menu-link">
              {link.label}
            </a>
          </li>
        ))
      }
      <li>
        <a
          href="#cotizar"
          class="menu-link bg-white/10 px-8 py-3 rounded-full text-sm font-semibold hover:bg-white/20 transition"
        >
          COMPRAR
        </a>
      </li>
    </ul>
  </div>
</nav>

<style>
  .line {
    width: 24px;
    height: 2px;
    background: white;
    transition: all 0.3s ease;
  }
  .menu-open .top {
    transform: translateY(6px) rotate(45deg);
  }
  .menu-open .middle {
    opacity: 0;
  }
  .menu-open .bottom {
    transform: translateY(-6px) rotate(-45deg);
  }
</style>

<script>
  const btn = document.getElementById("menu-btn");
  const menu = document.getElementById("mobile-menu");
  const closeBtn = document.getElementById("close-menu");
  const body = document.body;

  const openMenu = () => {
    if (!btn || !menu || !body) return;
    btn.classList.add("menu-open");
    menu.classList.remove("translate-y-full", "opacity-0");
    menu.classList.add("translate-y-0", "opacity-100");
    body.style.overflow = "hidden";
  };

  const closeMenu = () => {
    if (!btn || !menu || !body) return;
    btn.classList.remove("menu-open");
    menu.classList.add("translate-y-full", "opacity-0");
    menu.classList.remove("translate-y-0", "opacity-100");
    body.style.overflow = "";
  };

  btn?.addEventListener("click", () => {
    const isOpen = btn.classList.contains("menu-open");
    isOpen ? closeMenu() : openMenu();
  });

  closeBtn?.addEventListener("click", closeMenu);

  document.querySelectorAll(".menu-link").forEach((link) => {
    link.addEventListener("click", closeMenu);
  });
</script>
