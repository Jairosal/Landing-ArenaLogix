<!-- ---
interface InstagramPost {
  id: string;
  media_type: 'IMAGE' | 'VIDEO' | 'CAROUSEL_ALBUM';
  media_url: string;
  permalink: string;
  caption?: string;
  timestamp: string;
}

const token = import.meta.env.INSTAGRAM_TOKEN;
const igId = import.meta.env.INSTAGRAM_IG_ID;

const res = await fetch(
  `https://graph.facebook.com/v19.0/${igId}/media?fields=id,media_type,media_url,permalink,caption,timestamp&access_token=${token}`
);

const { data }: { data: InstagramPost[] } = await res.json();


// Opcional: filtrar solo imágenes
const posts = data.filter(p => p.media_type === 'IMAGE');
---

<section class="grid grid-cols-2 md:grid-cols-4 gap-4">
  {posts.slice(0, 8).map(post => (
    <a href={post.permalink} target="_blank" rel="noopener">
      <img
        src={post.media_url}
        alt={post.caption ?? 'Instagram post'}
        loading="lazy"
        class="rounded-xl hover:scale-105 transition"
      />
    </a>
  ))}
</section> -->

<section class="py-8 bg-white font-body">
    <div class="max-w-6xl mx-auto px-6">
        <div class="relative">
            <img
                src="/assets/our-community.png"
                alt="¡Conoce nuestra comunidad! y síguenos"
                class="w-full h-auto object-contain"
            />

            <div
                class="absolute inset-0 flex items-start justify-center pt-4 md:pt-8 lg:pt-12 z-10"
            >
                <div
                    class="grid grid-cols-3 gap-2 md:gap-6 w-full max-w-5xl px-4"
                >
                    <div
                        class="bg-white border-2 border-gray-600 rounded-2xl md:rounded-[2rem] aspect-[4/5] shadow-md flex items-center justify-center p-2 md:p-6"
                    >
                        <p
                            class="text-center font-body font-bold text-[8px] sm:text-sm md:text-lg lg:text-xl leading-tight"
                        >
                            Api de instagram (aca aparecen los post)
                        </p>
                    </div>
                    <div
                        class="bg-white border-2 border-gray-600 rounded-2xl md:rounded-[2rem] aspect-[4/5] shadow-md flex items-center justify-center p-2 md:p-6"
                    >
                        <p
                            class="text-center font-body font-bold text-[8px] sm:text-sm md:text-lg lg:text-xl leading-tight"
                        >
                        </p>
                    </div>
                    <div
                        class="bg-white border-2 border-gray-600 rounded-2xl md:rounded-[2rem] aspect-[4/5] shadow-md flex items-center justify-center p-2 md:p-6"
                    >
                        <p
                            class="text-center font-body font-bold text-[8px] sm:text-sm md:text-lg lg:text-xl leading-tight"
                        >
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
